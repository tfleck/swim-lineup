<!doctype html>
<html lang="en">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Swim Meet Scoreboard" />
<meta name="author" content="Theo Fleck" />
<meta charset="utf-8" />

<head>
  <title>Lineup Calculator</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <link href="style.css" rel="stylesheet" type="text/css">
</head>

<body>

  <header>
    <nav id="topNav" class="navbar navbar-dark bg-dark">
      <div id="infobox" class="col-lg-3 offset-lg-1">
        <a class="navbar-brand" href="#" data-toggle="modal" data-target="#infoModal">
          <i class="fas fa-info-circle"></i>&nbsp;Tips
        </a>
      </div>
      <div id="title" class="col-lg-4">
        <h1>Lineup Calculator</h1>
      </div>
      <div class="col-lg-4"></div>
    </nav>
  </header>

  <main id="container" class="container-fluid">
    <br>
    <div id="calculateStatus" class="row" style="display:none;">
      <div class="col-10 offset-1">
        <div class="alert alert-primary" role="alert">
          <i class="fas fa-circle-notch fa-spin"></i> Calculating lineups...
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-5 offset-sm-1 col-10 offset-1" style="display:flex;flex-direction:column;justify-content:center;">
          <input id="csvInput" type="file" accept=".csv">
      </div>
      <div class="col-sm-5 offset-sm-0 col-10 offset-1 pt-2 pt-sm-0">
        <button id="calculateBtn" type="button" class="btn btn-primary btn-block">Calculate!</button>
      </div>
    </div>
    <br>
    <div id="lineupTableContainer" class="row" style="display:none">
      <div class="col-10 offset-1">
        <div id="lineupTableTitle" class="d-flex flex-row"></div>
        <table id="lineupTable" class="table table-striped">
          <thead class="thead-dark">
            <tr>
              <th scope="col">Event</th>
              <th scope="col">Swimmer #1</th>
              <th scope="col">Swimmer #2</th>
              <th scope="col">Swimmer #3</th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
      </div>
    </div>
  </main>

  <footer class="footer">
    <p>
      Copyright &copy;
      <script type="text/JavaScript">document.write(new Date().getFullYear());</script>
      Theo Fleck, All Rights Reserved
    </p>
  </footer>

  <!-- Info Modal -->
  <div class="modal fade" id="infoModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Hey, it looks like it's your first time here! Here's some tips</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body d-flex justify-content-center">
          <ul class="list-group">
            <li class="list-group-item">This calculator will generate the best lineup by testing all of the different orders of assigning the best swimmers to events</li>
            <li class="list-group-item">
              Provide your teams's times as a .csv file with this format:<br>
              Name,50 free,100 free (etc)<br>
              John,20.25,50.65 (etc)<br>
              Joe,21.32,49.21 (etc)<br>
            </li>
            <li class="list-group-item">Make sure you include an entry with championship or record times to use as a comparison metric:<br>
              _record,18.75,40.50 (etc)</li>
            <li class="list-group-item">The lineups are evaluated based on a metric called RPI, or
              Relative Power Index. RPI is calculated by comparing a swimmer's time against the record time.<br>
              Lineups are scored based on their total RPI, a lower RPI is a better lineup.
            </li>
          </ul>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

</body>

<script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.4.1/dist/jquery.min.js,npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.1.1/papaparse.min.js"></script>
<script src="main.js"></script>
<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" rel="stylesheet" type="text/css">
</html>